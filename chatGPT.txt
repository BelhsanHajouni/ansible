[vms]
vm1 ansible_host=192.168.1.10
vm2 ansible_host=192.168.1.11



- name: Configure VM IPs
  hosts: vms
  become: yes
  tasks:
    - name: Set static IP address
      community.general.network_interface:
        interface: eth0  # Change to match your network interface name
        state: present
        address: "{{ host_ip }}"
        netmask: "{{ netmask }}"
        gateway: "{{ gateway }}"
      vars:
        host_ip: "192.168.1.10"  # Change as per your requirement
        netmask: "255.255.255.0"  # Change as per your requirement
        gateway: "192.168.1.1"  # Change as per your requirement


ansible-playbook -i inventory.ini configure_ips.yml


ansible-galaxy collection install community.general